
# ğŸ§® æ•°å­¦è¿ç®—ä»»åŠ¡é“¾ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºCeleryå’ŒFastAPIçš„åˆ†å¸ƒå¼ä»»åŠ¡å¤„ç†ç³»ç»Ÿï¼Œé‡‡ç”¨ç°ä»£åŒ–çš„appå±‚æ¶æ„å’ŒSQLAlchemy ORMï¼Œæ”¯æŒæ•°å­¦è¿ç®—ä»»åŠ¡é“¾çš„å¼‚æ­¥æ‰§è¡Œå’ŒWebç•Œé¢ç®¡ç†ã€‚

## ğŸš€ æ ¸å¿ƒç‰¹æ€§

- **ğŸ—ï¸ ç°ä»£åŒ–æ¶æ„**: ç‹¬ç«‹appå±‚è®¾è®¡ï¼Œåˆ†ç¦»APIã€æœåŠ¡ã€æ•°æ®åº“å’Œæ¨¡å‹å±‚
- **ğŸ—„ï¸ ORMè‡ªåŠ¨å»ºè¡¨**: åŸºäºSQLAlchemyçš„æ•°æ®åº“æ¨¡å‹ï¼Œè‡ªåŠ¨åˆ›å»ºå’Œç®¡ç†è¡¨ç»“æ„
- **âš¡ å¼‚æ­¥ä»»åŠ¡å¤„ç†**: åŸºäºCeleryçš„åˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—
- **ğŸ“Š æ•°å­¦è¿ç®—é“¾**: æ”¯æŒå¤šç§æ•°å­¦è¿ç®—çš„ç»„åˆæ‰§è¡Œ
- **ğŸŒ Web APIæ¥å£**: RESTful APIæ¥å£ï¼Œæ”¯æŒä»»åŠ¡æäº¤å’ŒçŠ¶æ€æŸ¥è¯¢
- **ğŸ’» å‰ç«¯ç•Œé¢**: ç”¨æˆ·å‹å¥½çš„Webç•Œé¢
- **ğŸ’¾ æ•°æ®æŒä¹…åŒ–**: SQLiteæ•°æ®åº“å­˜å‚¨ä»»åŠ¡è®°å½•
- **ğŸ“ˆ å®æ—¶ç›‘æ§**: ä»»åŠ¡çŠ¶æ€å®æ—¶æ›´æ–°å’Œç»Ÿè®¡åˆ†æ

## ï¿½ï¸ é¡¹ç›®æ¶æ„

### æ–°æ¶æ„ç›®å½•ç»“æ„
```
task_chain/
â”œâ”€â”€ ğŸ“„ readme.md              # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ ğŸ“¦ requirements.txt       # Pythonä¾èµ–åŒ…
â”œâ”€â”€ âš™ï¸ celery_app.py          # Celeryåº”ç”¨é…ç½®
â”œâ”€â”€ ğŸš€ server.py              # æ–°æ¶æ„å¯åŠ¨è„šæœ¬
â”œâ”€â”€ ğŸŒ web_server.py          # å‰ç«¯WebæœåŠ¡å™¨
â”œâ”€â”€ ğŸ’» web_interface.html     # Webå‰ç«¯ç•Œé¢
â”œâ”€â”€ ğŸ—ï¸ app/                   # ç‹¬ç«‹åº”ç”¨å±‚
â”‚   â”œâ”€â”€ ğŸ“„ main.py            # FastAPIä¸»åº”ç”¨
â”‚   â”œâ”€â”€ ğŸ”Œ api/               # APIè·¯ç”±å±‚
â”‚   â”‚   â””â”€â”€ routes.py         # è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ ğŸ“Š models/            # æ•°æ®æ¨¡å‹å±‚
â”‚   â”‚   â”œâ”€â”€ request_models.py # è¯·æ±‚æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ response_models.py# å“åº”æ¨¡å‹
â”‚   â”‚   â””â”€â”€ database_models.py# ORMæ•°æ®åº“æ¨¡å‹
â”‚   â”œâ”€â”€ ğŸ› ï¸ services/          # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ task_service.py   # ä»»åŠ¡æœåŠ¡
â”‚   â”‚   â””â”€â”€ chain_service.py  # ä»»åŠ¡é“¾æœåŠ¡
â”‚   â””â”€â”€ ğŸ—„ï¸ database/          # æ•°æ®åº“å±‚
â”‚       â””â”€â”€ orm_database.py   # ORMæ•°æ®åº“ç®¡ç†å™¨
â”œâ”€â”€ ğŸ“‹ tasks/                 # ä»»åŠ¡æ¨¡å—
â”‚   â”œâ”€â”€ math_tasks.py         # æ•°å­¦è¿ç®—ä»»åŠ¡
â”‚   â”œâ”€â”€ data_tasks.py         # æ•°æ®å¤„ç†ä»»åŠ¡
â”‚   â””â”€â”€ io_tasks.py           # è¾“å…¥è¾“å‡ºä»»åŠ¡
â”œâ”€â”€ ğŸ”„ workflows/             # å·¥ä½œæµæ¨¡å—
â””â”€â”€ ğŸ§ª tests/                 # æµ‹è¯•æ–‡ä»¶
    â”œâ”€â”€ test_api.py           # APIæµ‹è¯•
    â”œâ”€â”€ client_test.py        # å®¢æˆ·ç«¯æµ‹è¯•
    â””â”€â”€ curl_test.sh          # curlæµ‹è¯•è„šæœ¬
```

## ğŸ› ï¸ ç¯å¢ƒè¦æ±‚

- Python 3.12+
- Redis Server
- SQLAlchemy 2.0+ (ORMæ¡†æ¶)
- è™šæ‹Ÿç¯å¢ƒ (æ¨è)

## ğŸ“¦ å®‰è£…æ­¥éª¤

1. **åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ**
```bash
python3.12 -m venv venv
source venv/bin/activate  # macOS/Linux
```

2. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

3. **å¯åŠ¨RedisæœåŠ¡å™¨**
```bash
# macOS (ä½¿ç”¨Homebrew)
brew services start redis

# éªŒè¯Redisè¿è¡Œ
redis-cli ping
# åº”è¯¥è¿”å›: PONG
```

## ğŸš€ å¯åŠ¨æœåŠ¡

### æ–°æ¶æ„å¯åŠ¨æ–¹å¼

ç³»ç»ŸåŒ…å«3ä¸ªç‹¬ç«‹çš„æœåŠ¡ï¼Œéœ€è¦åˆ†åˆ«åœ¨ä¸åŒçš„ç»ˆç«¯çª—å£ä¸­å¯åŠ¨ï¼š

### 1. å¯åŠ¨Celery Worker (ç»ˆç«¯1)
```bash
# ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•å¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
cd /path/to/task_chain
source venv/bin/activate

# å¯åŠ¨Celery Worker
celery -A celery_app worker --loglevel=info

celery -A celery_app worker --loglevel=info --queues=celery,math,data,io,bilibili --concurrency=4


```

### 2. å¯åŠ¨FastAPIåç«¯æœåŠ¡ (ç»ˆç«¯2)
```bash
# ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•å¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
cd /path/to/task_chain
source venv/bin/activate

# å¯åŠ¨æ–°æ¶æ„çš„APIæœåŠ¡å™¨
python server.py

# æˆ–è€…ä½¿ç”¨uvicornç›´æ¥å¯åŠ¨
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

### 3. å¯åŠ¨å‰ç«¯WebæœåŠ¡å™¨ (ç»ˆç«¯3)
```bash
# ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•å¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
cd /path/to/task_chain
source venv/bin/activate

# å¯åŠ¨å‰ç«¯æœåŠ¡å™¨
python web_server.py
```

## ğŸŒ è®¿é—®åœ°å€

å¯åŠ¨æˆåŠŸåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

- **å‰ç«¯ç•Œé¢**: http://localhost:3000
  - æä¾›Webç•Œé¢è¿›è¡Œä»»åŠ¡ç®¡ç†å’Œç›‘æ§
  - æ”¯æŒä»»åŠ¡æäº¤ã€çŠ¶æ€æŸ¥çœ‹ã€ç»“æœæŸ¥è¯¢

- **åç«¯API**: http://localhost:8000
  - FastAPIè‡ªåŠ¨æ–‡æ¡£: http://localhost:8000/docs
  - æ•°æ®åº“è‡ªåŠ¨åˆå§‹åŒ–: é¦–æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨åˆ›å»ºæ‰€éœ€è¡¨

## ï¿½ APIæ¥å£æ–‡æ¡£

### æ ¸å¿ƒåŠŸèƒ½æ¥å£

#### 1. æäº¤ä»»åŠ¡é“¾
```bash
# POST /tasks/submit
curl -X POST "http://localhost:8000/tasks/submit" \
     -H "Content-Type: application/json" \
     -d '{
       "task_type": "data_chain",
       "description": "æ•°æ®å¤„ç†ä»»åŠ¡é“¾",
       "config": {
         "data_input": "sample_data.csv",
         "processing_steps": ["clean", "transform", "analyze"]
       }
     }'
```

#### 2. æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
```bash
# GET /tasks/{task_id}/status
curl "http://localhost:8000/tasks/abc123/status"

# è¿”å›ç»“æœç¤ºä¾‹
{
  "task_id": "abc123",
  "status": "COMPLETED",
  "created_at": "2024-01-01T10:00:00",
  "completed_at": "2024-01-01T10:05:00",
  "result": {...}
}
```

#### 3. è·å–ä»»åŠ¡ç»“æœ
```bash
# GET /tasks/{task_id}/result
curl "http://localhost:8000/tasks/abc123/result"
```

#### 4. è·å–ç³»ç»Ÿç»Ÿè®¡ä¿¡æ¯
```bash
# GET /tasks/statistics
curl "http://localhost:8000/tasks/statistics"

# è¿”å›ç»“æœç¤ºä¾‹
{
  "total_tasks": 150,
  "pending_tasks": 5,
  "running_tasks": 3,
  "completed_tasks": 140,
  "failed_tasks": 2
}
```

#### 5. æŸ¥è¯¢ä»»åŠ¡åˆ—è¡¨ï¼ˆæ”¯æŒçŠ¶æ€è¿‡æ»¤ï¼‰
```bash
# GET /tasks?status=COMPLETED&limit=10
curl "http://localhost:8000/tasks?status=COMPLETED&limit=10"

# æŸ¥è¯¢æ‰€æœ‰ä»»åŠ¡
curl "http://localhost:8000/tasks"
```

#### 6. åˆ é™¤ä»»åŠ¡
```bash
# DELETE /tasks/{task_id}
curl -X DELETE "http://localhost:8000/tasks/abc123"
```

### æ”¯æŒçš„ä»»åŠ¡ç±»å‹

| ä»»åŠ¡ç±»å‹ | æè¿° | é…ç½®å‚æ•° |
|---------|------|----------|
| `data_chain` | æ•°æ®å¤„ç†ä»»åŠ¡é“¾ | `data_input`, `processing_steps` |
| `math_chain` | æ•°å­¦è®¡ç®—ä»»åŠ¡é“¾ | `operation`, `numbers`, `iterations` |
| `io_chain` | IOæ“ä½œä»»åŠ¡é“¾ | `file_operations`, `target_files` |

## ğŸ§ª å¼€å‘å’Œæµ‹è¯•

### è¿è¡Œæµ‹è¯•å¥—ä»¶
```bash
# è¿è¡ŒAPIæ¥å£æµ‹è¯•
python tests/test_api.py

# è¿è¡Œå®¢æˆ·ç«¯æµ‹è¯•
python tests/client_test.py

# ä½¿ç”¨curlè„šæœ¬æµ‹è¯•
chmod +x tests/curl_test.sh
./tests/curl_test.sh
```

### å¼€å‘è°ƒè¯•
```bash
# å¯åŠ¨å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
python server.py --log-level debug
```

## ğŸ“ˆ ç›‘æ§å’Œç®¡ç†

### Celeryç›‘æ§å‘½ä»¤
```bash
# æŸ¥çœ‹æ´»è·ƒä»»åŠ¡
celery -A celery_app inspect active

# æŸ¥çœ‹å·²æ³¨å†Œä»»åŠ¡
celery -A celery_app inspect registered

# æŸ¥çœ‹workerçŠ¶æ€
celery -A celery_app status

# æŸ¥çœ‹workerç»Ÿè®¡ä¿¡æ¯
celery -A celery_app inspect stats
```

### æ•°æ®åº“ç®¡ç†
```bash
# æ•°æ®åº“è¡¨ä¼šåœ¨é¦–æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨åˆ›å»º
# å¦‚éœ€é‡ç½®æ•°æ®åº“ï¼Œåˆ é™¤ tasks.db æ–‡ä»¶åé‡å¯æœåŠ¡å³å¯
rm tasks.db  # SQLiteæ•°æ®åº“æ–‡ä»¶
python server.py  # é‡å¯æœåŠ¡è‡ªåŠ¨é‡å»ºè¡¨
```

## ğŸ¯ æ¶æ„ä¼˜åŠ¿

### æ–°æ¶æ„ç‰¹ç‚¹
- **ğŸ“Š ORMæ•°æ®ç®¡ç†**: ä½¿ç”¨SQLAlchemyè‡ªåŠ¨å¤„ç†æ•°æ®åº“è¡¨åˆ›å»ºå’Œç®¡ç†
- **ğŸ—ï¸ åˆ†å±‚æ¶æ„**: APIå±‚ã€æœåŠ¡å±‚ã€æ•°æ®å±‚æ¸…æ™°åˆ†ç¦»
- **ğŸ”§ æ˜“äºæ‰©å±•**: æ¨¡å—åŒ–è®¾è®¡ä¾¿äºæ·»åŠ æ–°åŠŸèƒ½
- **ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–**: è¿æ¥æ± ã€å¼‚æ­¥å¤„ç†ã€é”™è¯¯é‡è¯•æœºåˆ¶
- **ğŸ›¡ï¸ é”™è¯¯å¤„ç†**: å®Œå–„çš„å¼‚å¸¸å¤„ç†å’ŒçŠ¶æ€ç®¡ç†

### ä¸æ—§æ¶æ„å¯¹æ¯”
| ç‰¹æ€§ | æ—§æ¶æ„ | æ–°æ¶æ„ |
|------|--------|--------|
| æ•°æ®åº“ | æ‰‹å†™SQL | SQLAlchemy ORM |
| é…ç½®ç®¡ç† | å¤æ‚é…ç½®ç±» | ç›´æ¥conf.update() |
| APIç»“æ„ | å•æ–‡ä»¶ | åˆ†å±‚æ¨¡å—åŒ– |
| é”™è¯¯å¤„ç† | åŸºç¡€ | å®Œå–„çš„å¼‚å¸¸ç®¡ç† |
| å¯ç»´æŠ¤æ€§ | ä¸­ç­‰ | é«˜ |

## ï¿½ï¸ å¼€å‘å’Œæµ‹è¯•

### æµ‹è¯•APIåŠŸèƒ½
```bash
python test_api.py
```

### è¿è¡Œä¸»ç¨‹åºç¤ºä¾‹
```bash
python main.py
```

### ä½¿ç”¨curlæµ‹è¯•è„šæœ¬
```bash
chmod +x curl_test.sh
./curl_test.sh
```

## ğŸ“ˆ ç›‘æ§å’Œç®¡ç†

### æŸ¥çœ‹CeleryçŠ¶æ€
```bash
## ğŸ”§ é…ç½®è¯´æ˜

### ç³»ç»Ÿé…ç½®

#### Redisé…ç½®
- **ä¸»æœº**: localhost
- **ç«¯å£**: 6379  
- **æ•°æ®åº“**: 0
- **è¿æ¥æ± **: æ”¯æŒè¿æ¥æ± ç®¡ç†

#### Celeryé…ç½®
- **æ¶ˆæ¯ä»£ç†**: Redis (`redis://localhost:6379/0`)
- **ç»“æœåç«¯**: Redis
- **ä»»åŠ¡åºåˆ—åŒ–**: JSON
- **ç»“æœåºåˆ—åŒ–**: JSON
- **ä»»åŠ¡è¶…æ—¶**: 1800ç§’(30åˆ†é’Ÿ)
- **é‡è¯•æœºåˆ¶**: æ”¯æŒè‡ªåŠ¨é‡è¯•
- **é¢„å–ç­–ç•¥**: ä¼˜åŒ–æ€§èƒ½é…ç½®

#### æ•°æ®åº“é…ç½®
- **ç±»å‹**: SQLite (å¯æ‰©å±•è‡³PostgreSQL/MySQL)
- **æ–‡ä»¶ä½ç½®**: `./tasks.db`
- **ORMå¼•æ“**: SQLAlchemy 2.0+
- **è‡ªåŠ¨åˆå§‹åŒ–**: å¯åŠ¨æ—¶è‡ªåŠ¨åˆ›å»ºè¡¨ç»“æ„

## ğŸš¨ å¸¸è§é—®é¢˜

### å¯åŠ¨é—®é¢˜

**Q: Redisè¿æ¥å¤±è´¥**
```bash
# ç¡®è®¤RedisæœåŠ¡è¿è¡ŒçŠ¶æ€
brew services list | grep redis
redis-cli ping

# å¦‚æœªå®‰è£…Redis
brew install redis
brew services start redis
```

**Q: ç«¯å£å ç”¨å†²çª**
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
lsof -i :8000  # APIç«¯å£
lsof -i :3000  # Webç«¯å£

# ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£è®¾ç½®
```

**Q: æ•°æ®åº“æƒé™é—®é¢˜**
```bash
# ç¡®ä¿é¡¹ç›®ç›®å½•æœ‰å†™æƒé™
chmod 755 /path/to/task_chain
# SQLiteæ–‡ä»¶ä¼šè‡ªåŠ¨åˆ›å»º
```

### æ€§èƒ½ä¼˜åŒ–

**ä»»åŠ¡æ‰§è¡Œç¼“æ…¢**
- å¢åŠ Celery workeræ•°é‡: `celery -A celery_app worker --concurrency=4`
- è°ƒæ•´Redisæœ€å¤§è¿æ¥æ•°
- ä¼˜åŒ–ä»»åŠ¡ä»£ç é€»è¾‘

**å†…å­˜ä½¿ç”¨è¿‡é«˜**
- è®¾ç½®workeræœ€å¤§ä»»åŠ¡æ•°: `--max-tasks-per-child=100`
- å®šæœŸæ¸…ç†å®Œæˆçš„ä»»åŠ¡è®°å½•
- ä½¿ç”¨ä»»åŠ¡ç»“æœè¿‡æœŸè®¾ç½®

## ï¿½ ç›¸å…³èµ„æº

- [Celeryå®˜æ–¹æ–‡æ¡£](https://docs.celeryproject.org/)
- [FastAPIå®˜æ–¹æ–‡æ¡£](https://fastapi.tiangolo.com/)
- [SQLAlchemyæ–‡æ¡£](https://docs.sqlalchemy.org/)
- [Redisæ–‡æ¡£](https://redis.io/documentation)

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.0 (å½“å‰ç‰ˆæœ¬)
- âœ… å…¨æ–°appå±‚æ¶æ„è®¾è®¡
- âœ… SQLAlchemy ORMæ•°æ®åº“ç®¡ç†
- âœ… å¢å¼ºçš„APIæ¥å£ï¼ˆç»Ÿè®¡ã€è¿‡æ»¤ã€åˆ é™¤ï¼‰
- âœ… ä¼˜åŒ–çš„Celeryé…ç½®
- âœ… å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶
- âœ… åˆ†å±‚æœåŠ¡æ¶æ„

### v1.0 (å†å²ç‰ˆæœ¬)
- åŸºç¡€Celeryä»»åŠ¡é“¾åŠŸèƒ½
- ç®€å•FastAPIæ¥å£
- æ‰‹å†™SQLæ•°æ®ç®¡ç†
- å•æ–‡ä»¶æ¶æ„è®¾è®¡

---

ğŸ’¡ **æç¤º**: å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·å…ˆæ£€æŸ¥RedisæœåŠ¡çŠ¶æ€å’Œé¡¹ç›®ç›®å½•æƒé™ï¼Œå¤§éƒ¨åˆ†å¯åŠ¨é—®é¢˜éƒ½ä¸è¿™ä¸¤ä¸ªå› ç´ ç›¸å…³ã€‚

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **Redisè¿æ¥å¤±è´¥**
   ```bash
   # æ£€æŸ¥Redisæ˜¯å¦è¿è¡Œ
   redis-cli ping
   # åº”è¯¥è¿”å›: PONG
   
   # å¦‚æœæœªè¿è¡Œï¼Œå¯åŠ¨Redis
   brew services start redis
   ```

2. **ä»»åŠ¡æ‰§è¡Œå¤±è´¥**
   ```bash
   # æ£€æŸ¥Celery workeræ—¥å¿—
   celery -A celery_app worker --loglevel=debug
   ```

3. **APIè®¿é—®å¤±è´¥**
   ```bash
   # æ£€æŸ¥FastAPIæœåŠ¡çŠ¶æ€
   curl http://localhost:8000/
   ```

4. **å‰ç«¯è·¨åŸŸé—®é¢˜**
   - ä½¿ç”¨ http://localhost:8080 è®¿é—®å‰ç«¯
   - ä¸è¦ç›´æ¥æ‰“å¼€HTMLæ–‡ä»¶

### å¯åŠ¨æ£€æŸ¥æ¸…å•

âœ… RedisæœåŠ¡å™¨è¿è¡Œä¸­ (`redis-cli ping`)  
âœ… è™šæ‹Ÿç¯å¢ƒå·²æ¿€æ´»  
âœ… æ‰€æœ‰ä¾èµ–å·²å®‰è£… (`pip list`)  
âœ… Celery Workeræ­£å¸¸å¯åŠ¨  
âœ… FastAPIæœåŠ¡å“åº”æ­£å¸¸  
âœ… å‰ç«¯æœåŠ¡å™¨è¿è¡Œä¸­  

## ğŸ“Š ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Webå‰ç«¯ç•Œé¢    â”‚    â”‚   FastAPIåç«¯   â”‚    â”‚  Celery Worker  â”‚
â”‚  (ç«¯å£: 8080)   â”‚â—„â”€â”€â–ºâ”‚   (ç«¯å£: 8000)  â”‚â—„â”€â”€â–ºâ”‚   (ä»»åŠ¡å¤„ç†)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚                        â”‚
                              â–¼                        â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚  SQLiteæ•°æ®åº“   â”‚    â”‚  Redisæ¶ˆæ¯é˜Ÿåˆ—  â”‚
                       â”‚   (ä»»åŠ¡è®°å½•)    â”‚    â”‚   (ä»»åŠ¡åˆ†å‘)    â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”® æ‰©å±•åŠŸèƒ½

### æ·»åŠ æ–°ä»»åŠ¡ç±»å‹
1. åœ¨ `tasks/` ç›®å½•åˆ›å»ºæ–°çš„ä»»åŠ¡æ¨¡å—
2. ä½¿ç”¨ `@app.task` è£…é¥°å™¨å®šä¹‰ä»»åŠ¡
3. åœ¨ `celery_app.py` ä¸­å¯¼å…¥æ–°æ¨¡å—

### æ·»åŠ æ–°çš„è¿ç®—é“¾
1. åœ¨ `math_tasks.py` ä¸­å®šä¹‰æ–°çš„é“¾å¼ä»»åŠ¡
2. åœ¨ `api.py` ä¸­æ·»åŠ å¯¹åº”çš„è·¯ç”±
3. åœ¨å‰ç«¯ç•Œé¢æ·»åŠ é€‰é¡¹

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ‘¥ ä½œè€…ä¿¡æ¯

- **ç‰ˆæœ¬**: 1.0.0
- **æœ€åæ›´æ–°**: 2025å¹´8æœˆ25æ—¥

---

**ğŸ‰ äº«å—åˆ†å¸ƒå¼ä»»åŠ¡å¤„ç†çš„å¼ºå¤§åŠŸèƒ½ï¼**