[program:celery_worker]
; Celery Worker配置 - 支持多队列任务处理
command=/Users/apple/opt/difyz_08/github_001/002/task_chain/venv/bin/celery -A celery_app worker --loglevel=info --queues=celery,math,data,io,bilibili --concurrency=4
directory=/Users/apple/opt/difyz_08/github_001/002/task_chain
user=apple
numprocs=1
stdout_logfile=/Users/apple/opt/difyz_08/github_001/002/task_chain/logs/celery_worker.log
stderr_logfile=/Users/apple/opt/difyz_08/github_001/002/task_chain/logs/celery_worker_error.log
autostart=true
autorestart=true
startsecs=10
stopwaitsecs=600
killasgroup=true
priority=998

; 环境变量
environment=PATH="/Users/apple/opt/difyz_08/github_001/002/task_chain/venv/bin:%(ENV_PATH)s"

[program:celery_beat]
; Celery Beat配置 - 定时任务调度器（可选）
command=/Users/apple/opt/difyz_08/github_001/002/task_chain/venv/bin/celery -A celery_app beat --loglevel=info
directory=/Users/apple/opt/difyz_08/github_001/002/task_chain
user=apple
numprocs=1
stdout_logfile=/Users/apple/opt/difyz_08/github_001/002/task_chain/logs/celery_beat.log
stderr_logfile=/Users/apple/opt/difyz_08/github_001/002/task_chain/logs/celery_beat_error.log
autostart=false
autorestart=true
startsecs=10
stopwaitsecs=30
priority=999

; 环境变量
environment=PATH="/Users/apple/opt/difyz_08/github_001/002/task_chain/venv/bin:%(ENV_PATH)s"

[group:celery]
programs=celery_worker,celery_beat
priority=999
